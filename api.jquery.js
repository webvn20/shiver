function floatToString(a,b){var c=a.toFixed(b).toString();return c.match(/^\.\d+/)?"0"+c:c}function attributeToString(a){return"string"!=typeof a&&(a+="","undefined"===a&&(a="")),jQuery.trim(a)}"undefined"==typeof Bizweb&&(Bizweb={}),Bizweb.mediaDomainName="//bizweb.dktcdn.net/",Bizweb.money_format="${{amount}}",Bizweb.onError=function(XMLHttpRequest,textStatus){var data=eval("("+XMLHttpRequest.responseText+")");alert(data.message?data.message+"("+data.status+"): "+data.description:"Error : "+Bizweb.fullMessagesFromErrors(data).join("; ")+".")},Bizweb.fullMessagesFromErrors=function(a){var b=[];return jQuery.each(a,function(a,c){jQuery.each(c,function(c,d){b.push(a+" "+d)})}),b},Bizweb.onCartUpdate=function(a){alert("There are now "+a.item_count+" items in the cart.")},Bizweb.onCartShippingRatesUpdate=function(a,b){var c="";b.zip&&(c+=b.zip+", "),b.province&&(c+=b.province+", "),c+=b.country,alert("There are "+a.length+" shipping rates available for "+c+", starting at "+Bizweb.formatMoney(a[0].price)+".")},Bizweb.onItemAdded=function(a){alert(a.title+" was added to your shopping cart.")},Bizweb.onProduct=function(a){alert("Received everything we ever wanted to know about "+a.title)},Bizweb.formatMoney=function(a,b){function c(a,b){return"undefined"==typeof a?b:a}function d(a,b,d,e){if(b=c(b,2),d=c(d,","),e=c(e,"."),isNaN(a)||null==a)return 0;a=a.toFixed(b);var f=a.split("."),g=f[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+d),b=f[1]?e+f[1]:"";return g+b}"string"==typeof a&&(a=a.replace(".",""),a=a.replace(",",""));var e="",f=/\{\{\s*(\w+)\s*\}\}/;switch(b=b||this.money_format,b.match(f)[1]){case"amount":e=d(a,2);break;case"amount_no_decimals":e=d(a,0);break;case"amount_with_comma_separator":e=d(a,2,".",",");break;case"amount_no_decimals_with_comma_separator":e=d(a,0,".",",")}return b.replace(f,e)},Bizweb.resizeImage=function(a,b){try{if("original"==b)return a;var c=Bizweb.mediaDomainName+"thumb/"+b+"/";return a.replace(Bizweb.mediaDomainName,c).split("?")[0]}catch(d){return a}},Bizweb.addItem=function(a,b,c){var b=b||1,d={type:"POST",url:"/cart/add.js",data:"quantity="+b+"&VariantId="+a,dataType:"json",success:function(a){"function"==typeof c?c(a):Bizweb.onItemAdded(a)},error:function(a,b){Bizweb.onError(a,b)}};jQuery.ajax(d)},Bizweb.addItemFromForm=function(a,b){var c={type:"POST",url:"/cart/add.js",data:jQuery("#"+a).serialize(),dataType:"json",success:function(a){"function"==typeof b?b(a):Bizweb.onItemAdded(a)},error:function(a,b){Bizweb.onError(a,b)}};jQuery.ajax(c)},Bizweb.getCart=function(a){jQuery.getJSON("/cart.js",function(b){"function"==typeof a?a(b):Bizweb.onCartUpdate(b)})},Bizweb.pollForCartShippingRatesForDestination=function(a,b,c){c=c||Bizweb.onError;var d=function(){jQuery.ajax("/cart/async_shipping_rates",{dataType:"json",success:function(c,e,f){200===f.status?"function"==typeof b?b(c.shipping_rates,a):Bizweb.onCartShippingRatesUpdate(c.shipping_rates,a):setTimeout(d,500)},error:c})};return d},Bizweb.getCartShippingRatesForDestination=function(a,b,c){c=c||Bizweb.onError;var d={type:"POST",url:"/cart/prepare_shipping_rates",data:Bizweb.param({shipping_address:a}),success:Bizweb.pollForCartShippingRatesForDestination(a,b,c),error:c};jQuery.ajax(d)},Bizweb.getProduct=function(a,b){jQuery.getJSON("/products/"+a+".js",function(a){"function"==typeof b?b(a):Bizweb.onProduct(a)})},Bizweb.changeItem=function(a,b,c){var d={type:"POST",url:"/cart/change.js",data:"quantity="+b+"&variantId="+a,dataType:"json",success:function(a){"function"==typeof c?c(a):Bizweb.onCartUpdate(a)},error:function(a,b){Bizweb.onError(a,b)}};jQuery.ajax(d)},Bizweb.removeItem=function(a,b){var c={type:"POST",url:"/cart/change.js",data:"quantity=0&variantId="+a,dataType:"json",success:function(a){"function"==typeof b?b(a):Bizweb.onCartUpdate(a)},error:function(a,b){Bizweb.onError(a,b)}};jQuery.ajax(c)},Bizweb.clear=function(a){var b={type:"POST",url:"/cart/clear.js",data:"",dataType:"json",success:function(b){"function"==typeof a?a(b):Bizweb.onCartUpdate(b)},error:function(a,b){Bizweb.onError(a,b)}};jQuery.ajax(b)},Bizweb.updateCartFromForm=function(a,b){var c={type:"POST",url:"/cart/update.js",data:jQuery("#"+a).serialize(),dataType:"json",success:function(a){"function"==typeof b?b(a):Bizweb.onCartUpdate(a)},error:function(a,b){Bizweb.onError(a,b)}};jQuery.ajax(c)},Bizweb.updateCartAttributes=function(a,b){var c="";jQuery.isArray(a)?jQuery.each(a,function(a,b){var d=attributeToString(b.key);""!==d&&(c+="attributes["+d+"]="+attributeToString(b.value)+"&")}):"object"==typeof a&&null!==a&&jQuery.each(a,function(a,b){c+="attributes["+attributeToString(a)+"]="+attributeToString(b)+"&"});var d={type:"POST",url:"/cart/update.js",data:c,dataType:"json",success:function(a){"function"==typeof b?b(a):Bizweb.onCartUpdate(a)},error:function(a,b){Bizweb.onError(a,b)}};jQuery.ajax(d)},Bizweb.updateCartNote=function(a,b){var c={type:"POST",url:"/cart/update.js",data:"note="+attributeToString(a),dataType:"json",success:function(a){"function"==typeof b?b(a):Bizweb.onCartUpdate(a)},error:function(a,b){Bizweb.onError(a,b)}};jQuery.ajax(c)},jQuery.fn.jquery>="1.4"?Bizweb.param=jQuery.param:(Bizweb.param=function(a){var b=[],c=function(a,c){c=jQuery.isFunction(c)?c():c,b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};if(jQuery.isArray(a)||a.jquery)jQuery.each(a,function(){c(this.name,this.value)});else for(var d in a)Bizweb.buildParams(d,a[d],c);return b.join("&").replace(/%20/g,"+")},Bizweb.buildParams=function(a,b,c){jQuery.isArray(b)&&b.length?jQuery.each(b,function(b,d){rbracket.test(a)?c(a,d):Bizweb.buildParams(a+"["+("object"==typeof d||jQuery.isArray(d)?b:"")+"]",d,c)}):null!=b&&"object"==typeof b?Bizweb.isEmptyObject(b)?c(a,""):jQuery.each(b,function(b,d){Bizweb.buildParams(a+"["+b+"]",d,c)}):c(a,b)},Bizweb.isEmptyObject=function(a){for(var b in a)return!1;return!0});